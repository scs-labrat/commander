<html><head><base href="." /><style>
body {
    font-family: 'Courier New', monospace;
    background-color: #1a1a1a;
    color: #00ff00;
    padding: 20px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

.tool-section {
    background-color: #2a2a2a;
    border: 1px solid #00ff00;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
    transition: all 0.3s ease;
}

.tool-section:hover {
    transform: translateX(5px);
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
}

.tool-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    padding: 5px;
    border-bottom: 1px dashed #00ff00;
}

.tool-header h2 {
    margin: 0;
    font-size: 1.4em;
}

.tool-content {
    display: block !important;
    padding: 20px;
}

.option-group {
    background-color: #222;
    padding: 20px;
    margin: 15px 0;
    border-radius: 5px;
    border: 1px solid #00ff00;
}

.option-group h3 {
    color: #00ff00;
    margin-bottom: 15px;
    border-bottom: 1px solid #00ff00;
    padding-bottom: 5px;
}

.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

button {
    background-color: #004400;
    color: #00ff00;
    border: 1px solid #00ff00;
    padding: 10px 20px;
    cursor: pointer;
    margin: 5px;
    border-radius: 3px;
    transition: all 0.3s ease;
}

button:hover {
    background-color: #006600;
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

select, input[type="text"], input[type="number"] {
    background-color: #333;
    color: #00ff00;
    border: 1px solid #00ff00;
    padding: 8px;
    margin: 5px;
    border-radius: 3px;
    width: calc(100% - 20px);
}

.checkbox-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin: 10px 0;
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.generate-button {
    width: 100%;
    padding: 15px;
    font-size: 1.2em;
    margin-top: 20px;
    background-color: #004400;
}

#command-output {
    background-color: #000;
    padding: 20px;
    border: 1px solid #00ff00;
    margin-top: 20px;
    min-height: 50px;
    border-radius: 5px;
    position: relative;
    white-space: pre-wrap;
    font-family: monospace;
}

.blink {
    animation: blink 1s step-end infinite;
}

@keyframes blink {
    50% { opacity: 0; }
}

.info-tooltip {
    position: relative;
    display: inline-block;
    margin-left: 5px;
    cursor: help;
}

.info-tooltip:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: #00ff00;
    padding: 5px 10px;
    border-radius: 3px;
    font-size: 0.8em;
    white-space: nowrap;
    z-index: 1000;
}

.config-preview {
    font-family: monospace;
    background-color: #000;
    padding: 20px;
    border: 1px solid #00ff00;
    margin-top: 20px;
    white-space: pre-wrap;
    border-radius: 5px;
}

.chain-item {
    display: flex;
    align-items: center;
    gap: 10px;
    background: #222;
    padding: 10px;
    margin: 5px 0;
    border-radius: 3px;
}

.chain-item button {
    padding: 5px 10px;
    margin: 0;
}

.proxy-list {
    max-height: 300px;
    overflow-y: auto;
    padding: 10px;
    background: #1a1a1a;
    border: 1px solid #00ff00;
    border-radius: 5px;
}

.drag-handle {
    cursor: move;
    padding: 5px;
    color: #00ff00;
}

/* New styles for RTL-SDR tools */
.tool-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
    margin: 15px 0;
}

.rtl-tool {
    background: #222;
    border: 1px solid #00ff00;
    padding: 10px;
    border-radius: 5px;
    transition: transform 0.2s ease-in-out;
}

.rtl-tool:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 255, 0, 0.2);
}

.tool-name {
    color: #00ff00;
    font-weight: bold;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.tool-description {
    font-size: 0.9em;
    color: #aaffaa;
    margin-bottom: 10px;
    border-bottom: 1px dotted #00ff00;
    padding-bottom: 5px;
}

.command-builder {
    margin-top: 10px;
}

.option-label {
    display: block;
    margin-top: 5px;
    color: #00ff00;
}

.frequency-preset {
    display: inline-block;
    padding: 3px 8px;
    margin: 2px;
    background: #004400;
    border: 1px solid #00ff00;
    border-radius: 3px;
    cursor: pointer;
}

.frequency-preset:hover {
    background: #006600;
}

.output-panel {
    background: #000;
    border: 1px solid #00ff00;
    padding: 10px;
    margin-top: 15px;
    font-family: monospace;
    white-space: pre-wrap;
}

.tool-options {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.tool-options.expanded {
    max-height: 2000px;
    transition: max-height 0.5s ease-in;
}

.expand-toggle {
    background: none;
    border: 1px solid #00ff00;
    color: #00ff00;
    cursor: pointer;
    font-size: 1.2em;
    padding: 2px 8px;
    opacity: 0.7;
}

.expand-toggle:hover {
    opacity: 1;
}

.command-output {
    margin-top: 20px;
    font-size: 1.1em;
    line-height: 1.4;
}
</style></head><body>
<div class="container">
    <h1>RTL-SDR Tools Command Generator</h1>

    <div class="tool-section">
        <div class="tool-header">
            <h2>Device Settings</h2>
        </div>
        <div class="tool-content">
            <div class="option-group">
                <h3>Common RTL-SDR Parameters</h3>
                <div class="grid-container">
                    <input type="text" id="device-index" placeholder="Device Index (default: 0)">
                    <input type="number" id="ppm-error" placeholder="PPM Error">
                    <input type="number" id="gain" placeholder="Gain (dB)">
                    <select id="gain-mode">
                        <option value="auto">Auto Gain</option>
                        <option value="manual">Manual Gain</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="tool-section">
        <div class="tool-header">
            <h2>RTL-SDR Tools</h2>
        </div>
        <div class="tool-content">
            <div id="rtl-tools" class="tool-grid">
                <!-- Tools will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <div id="command-output" class="command-output"></div>
</div>

<script>
function createToolElement(tool) {
    const toolDiv = document.createElement('div');
    toolDiv.className = 'rtl-tool';

    const headerDiv = document.createElement('div');
    headerDiv.className = 'tool-name';
    headerDiv.innerHTML = `
        ${tool.name}
        <button class="expand-toggle">▼</button>
    `;

    const descDiv = document.createElement('div');
    descDiv.className = 'tool-description';
    descDiv.textContent = tool.description;

    const optionsDiv = document.createElement('div');
    optionsDiv.className = 'tool-options';

    // Create inputs for each option
    tool.options.forEach(option => {
        const optionContainer = document.createElement('div');
        optionContainer.className = 'option-container';

        const label = document.createElement('label');
        label.className = 'option-label';
        label.textContent = option.label;
        optionContainer.appendChild(label);

        let input;
        switch(option.type) {
            case 'number':
            case 'text':
                input = document.createElement('input');
                input.type = option.type;
                input.id = `${tool.name}-${option.id}`;
                input.value = option.default || '';
                input.placeholder = option.label;
                break;

            case 'select':
                input = document.createElement('select');
                input.id = `${tool.name}-${option.id}`;
                option.options.forEach(optValue => {
                    const optElement = document.createElement('option');
                    optElement.value = optValue;
                    optElement.textContent = optValue;
                    input.appendChild(optElement);
                });
                break;

            case 'checkbox':
                input = document.createElement('input');
                input.type = 'checkbox';
                input.id = `${tool.name}-${option.id}`;
                break;
        }

        input.className = 'tool-input';
        optionContainer.appendChild(input);
        optionsDiv.appendChild(optionContainer);
    });

    // Add command preview section
    const previewDiv = document.createElement('div');
    previewDiv.className = 'output-panel';
    previewDiv.id = `${tool.name}-preview`;

    // Add generate command button
    const generateBtn = document.createElement('button');
    generateBtn.textContent = 'Generate Command';
    generateBtn.className = 'generate-button';
    generateBtn.onclick = () => generateCommand(tool);

    toolDiv.appendChild(headerDiv);
    toolDiv.appendChild(descDiv);
    toolDiv.appendChild(optionsDiv);
    toolDiv.appendChild(generateBtn);
    toolDiv.appendChild(previewDiv);

    // Add expand/collapse functionality
    headerDiv.querySelector('.expand-toggle').addEventListener('click', (e) => {
        optionsDiv.classList.toggle('expanded');
        e.target.textContent = optionsDiv.classList.contains('expanded') ? '▼' : '▶';
    });

    return toolDiv;
}

// Add the generateCommand function
function generateCommand(tool) {
    const preview = document.getElementById(`${tool.name}-preview`);
    let command = tool.name;
    
    tool.options.forEach(option => {
        const input = document.getElementById(`${tool.name}-${option.id}`);
        if (!input) return;

        let value;
        if (option.type === 'checkbox') {
            if (input.checked) {
                command += ` --${option.id}`;
            }
        } else {
            value = input.value;
            if (value) {
                command += ` --${option.id} ${value}`;
            }
        }
    });

    preview.textContent = command;
}

const rtlTools = [
    {
        name: 'rtl_adsb',
        description: 'Receive and decode ADS-B aircraft signals',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 1090000000},
            {type: 'select', id: 'format', label: 'Output Format', 
             options: ['raw', 'binary', 'avg']},
            {type: 'checkbox', id: 'aggressive', label: 'Aggressive Mode'},
        ]
    },
    {
        name: 'rtl_433',
        description: 'Generic data receiver for ISM band devices',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 433920000},
            {type: 'select', id: 'protocol', label: 'Protocol',
             options: ['all', '1', '2', '3', '4', '5']},
            {type: 'checkbox', id: 'analyze', label: 'Analysis Mode'},
            {type: 'checkbox', id: 'verbose', label: 'Verbose Output'}
        ]
    },
    {
        name: 'dump1090',
        description: 'ADS-B decoder and aircraft tracker',
        options: [
            {type: 'select', id: 'mode', label: 'Operating Mode',
             options: ['interactive', 'net', 'beast']},
            {type: 'number', id: 'port', label: 'Network Port', default: 30002},
            {type: 'checkbox', id: 'net', label: 'Enable Networking'},
            {type: 'checkbox', id: 'raw', label: 'Raw Output'}
        ]
    }
];

const rtlToolsAddition = [
    {
        name: 'rtl_test',
        description: 'Test RTL-SDR device functionality and tuning',
        options: [
            {type: 'checkbox', id: 'test-mode', label: 'Test Mode'},
            {type: 'number', id: 'duration', label: 'Test Duration (s)'},
            {type: 'checkbox', id: 'benchmark', label: 'Run Benchmark'},
            {type: 'checkbox', id: 'tuner', label: 'Tuner Info'}
        ]
    },
    {
        name: 'rtl_fm',
        description: 'Receive and demodulate FM signals',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 100100000},
            {type: 'select', id: 'modulation', label: 'Modulation Type',
             options: ['fm', 'wbfm', 'raw', 'am', 'usb', 'lsb']},
            {type: 'number', id: 'sample-rate', label: 'Sample Rate', default: 24000},
            {type: 'number', id: 'squelch', label: 'Squelch Level'},
            {type: 'checkbox', id: 'edge-tune', label: 'Edge Tuning'}
        ]
    },
    {
        name: 'rtl_acars',
        description: 'Decode ACARS messages from aircraft',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 131550000},
            {type: 'checkbox', id: 'log', label: 'Enable Logging'},
            {type: 'select', id: 'output', label: 'Output Format',
             options: ['raw', 'decoded', 'both']},
            {type: 'checkbox', id: 'verbose', label: 'Verbose Mode'}
        ]
    },
    {
        name: 'rtl_wmbus',
        description: 'Wireless M-Bus receiver for utility meters',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 868950000},
            {type: 'select', id: 'mode', label: 'M-Bus Mode',
             options: ['T1', 'S1', 'S1-m', 'S2', 'T2']},
            {type: 'checkbox', id: 'json', label: 'JSON Output'},
            {type: 'checkbox', id: 'debug', label: 'Debug Mode'}
        ]
    },
    {
        name: 'rtl_hpsdr',
        description: 'HPSDR emulator for SDR applications',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 7100000},
            {type: 'number', id: 'port', label: 'Network Port', default: 1234},
            {type: 'checkbox', id: 'network', label: 'Enable Network'},
            {type: 'select', id: 'format', label: 'Data Format',
             options: ['8bit', '16bit', '24bit']}
        ]
    },
    {
        name: 'rtl_entropy',
        description: 'Random number generator using RTL-SDR',
        options: [
            {type: 'number', id: 'samples', label: 'Number of Samples'},
            {type: 'select', id: 'output', label: 'Output Format',
             options: ['raw', 'hex', 'binary']},
            {type: 'checkbox', id: 'continuous', label: 'Continuous Mode'},
            {type: 'checkbox', id: 'stats', label: 'Show Statistics'}
        ]
    }
];

const newRtlTools = [
    {
        name: 'rtl_to_iq',
        description: 'Convert RTL-SDR samples to IQ format',
        options: [
            {type: 'number', id: 'frequency', label: 'Center Frequency (Hz)', default: 100000000},
            {type: 'number', id: 'samplerate', label: 'Sample Rate (Hz)', default: 2048000},
            {type: 'select', id: 'format', label: 'Output Format',
             options: ['float', 'int16', 'int8']},
            {type: 'checkbox', id: 'direct', label: 'Direct Sampling Mode'}
        ]
    },
    {
        name: 'rtl_link',
        description: 'Network link for RTL-SDR devices',
        options: [
            {type: 'number', id: 'port', label: 'Listen Port', default: 1234},
            {type: 'text', id: 'address', label: 'Bind Address', default: '0.0.0.0'},
            {type: 'checkbox', id: 'tcp', label: 'Use TCP'},
            {type: 'checkbox', id: 'compress', label: 'Enable Compression'}
        ]
    },
    {
        name: 'rtl_net',
        description: 'RTL-SDR network server',
        options: [
            {type: 'number', id: 'port', label: 'Listen Port', default: 1234},
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 100000000},
            {type: 'number', id: 'samplerate', label: 'Sample Rate', default: 2048000},
            {type: 'checkbox', id: 'daemon', label: 'Run as Daemon'}
        ]
    },
    {
        name: 'rtl_beacon',
        description: 'Beacon monitoring and tracking',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 14100000},
            {type: 'select', id: 'mode', label: 'Beacon Mode',
             options: ['wspr', 'ft8', 'ft4', 'js8']},
            {type: 'checkbox', id: 'gps', label: 'Use GPS Time'},
            {type: 'checkbox', id: 'log', label: 'Enable Logging'}
        ]
    },
    {
        name: 'rtl_pkt',
        description: 'Generic packet decoder',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 433920000},
            {type: 'select', id: 'modulation', label: 'Modulation',
             options: ['ook', 'fsk', 'psk', 'msk']},
            {type: 'number', id: 'baudrate', label: 'Baud Rate', default: 4800},
            {type: 'checkbox', id: 'invert', label: 'Invert Signal'}
        ]
    },
    {
        name: 'rtl_lte',
        description: 'LTE signal analyzer',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 806000000},
            {type: 'select', id: 'band', label: 'LTE Band',
             options: ['1', '2', '3', '4', '5', '7', '8', '12', '13', '14', '17', '20']},
            {type: 'checkbox', id: 'scan', label: 'Band Scanner Mode'},
            {type: 'checkbox', id: 'info', label: 'Cell Info'}
        ]
    },
    {
        name: 'rtl_meteor',
        description: 'METEOR-M2 weather satellite decoder',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 137100000},
            {type: 'select', id: 'type', label: 'Output Type',
             options: ['soft', 'hard', 'both']},
            {type: 'checkbox', id: 'save', label: 'Save Raw Data'},
            {type: 'checkbox', id: 'correct', label: 'Error Correction'}
        ]
    },
    {
        name: 'rtl_nfm',
        description: 'Narrow-band FM receiver',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 145000000},
            {type: 'number', id: 'squelch', label: 'Squelch Level', default: 0},
            {type: 'number', id: 'deviation', label: 'FM Deviation', default: 5000},
            {type: 'checkbox', id: 'ctcss', label: 'CTCSS Filter'}
        ]
    },
    {
        name: 'rtl_tetra',
        description: 'TETRA protocol decoder',
        options: [
            {type: 'number', id: 'frequency', label: 'Frequency (Hz)', default: 390000000},
            {type: 'select', id: 'bandwidth', label: 'Bandwidth',
             options: ['25k', '50k', '100k']},
            {type: 'checkbox', id: 'voice', label: 'Decode Voice'},
            {type: 'checkbox', id: 'data', label: 'Decode Data'}
        ]
    },
    {
        name: 'rtl_scan',
        description: 'Frequency scanner',
        options: [
            {type: 'number', id: 'start', label: 'Start Frequency (Hz)', default: 88000000},
            {type: 'number', id: 'end', label: 'End Frequency (Hz)', default: 108000000},
            {type: 'number', id: 'step', label: 'Step Size (Hz)', default: 100000},
            {type: 'checkbox', id: 'continuous', label: 'Continuous Scan'},
            {type: 'checkbox', id: 'save', label: 'Save Results'}
        ]
    }
];

// Add to the initialization code
document.addEventListener('DOMContentLoaded', () => {
    rtlTools.push(...rtlToolsAddition, ...newRtlTools);
    const toolsContainer = document.getElementById('rtl-tools');
    rtlTools.forEach(tool => {
        toolsContainer.appendChild(createToolElement(tool));
    });
});
</script>
</body></html>